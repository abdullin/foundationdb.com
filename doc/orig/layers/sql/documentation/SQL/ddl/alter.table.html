<!DOCTYPE html>
<html lang='en' xml:lang='en' xmlns='http://www.w3.org/1999/xhtml'>
<head>


<script type="text/javascript" src="/static/js/analytics.js"></script>
<script type="text/javascript">archive_analytics.values.server_name="wwwb-app4.us.archive.org";archive_analytics.values.server_ms=75;</script>
<link type="text/css" rel="stylesheet" href="/static/css/banner-styles.css"/>


<title>
SQL Layer &mdash;
ALTER TABLE

&mdash; FoundationDB
</title>
<meta charset='utf-8'>
<meta content='SQL, layer, foundationdb, database, nosql, scalable, fault tolerant, acid, transactions' name='keywords'>
<meta content='The FoundationDB SQL Layer is a scalable, fault tolerant, ANSI SQL engine.' name='description'>
<meta content='FoundationDB' name='author'>
<meta content='IE=edge' http-equiv='x-ua-compatible'>
<meta content='173350679' property='twitter:account_id'>
<meta content='FoundationDB' property='og:title'>
<meta content='https://foundationdb.com' property='og:url'>
<meta content='https://foundationdb.com/images/stacks.png' property='og:image'>
<meta content='FoundationDB is a database that combines NoSQL scalability with true multikey ACID transactions.' name='og:description'>
<meta content='2j_g9LCoS3SGSPULb2MLPGk2raKkFd4hPOuWWM5AsVw' name='google-site-verification'>
<link href='https://foundationdb.com/layers/sql/documentation/SQL/ddl/alter.table.html' rel='canonical'>
<!--[if lt IE 9]>
<script src='/web/20150325003604/https://html5shiv.googlecode.com/svn/trunk/html5.js'></script>
<![endif]-->
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<link href="/web/20150325003604im_/https://d3glfbbr3jeumb.cloudfront.net/assets/favicon-eea8382cf5c35e23f9fb4273c134b2c0.png" rel="shortcut icon" type="image/png" />
<meta content="authenticity_token" name="csrf-param" />
<meta content="wcVH0qYrgIDal8Kx10xmZIzNgnD0d0/RXPTIqTtufYE=" name="csrf-token" />
<link href="/web/20150325003604cs_/https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700|Gentium+Book+Basic:400,400italic" media="screen" rel="stylesheet" type="text/css" />
<link href="/web/20150325003604cs_/https://d3glfbbr3jeumb.cloudfront.net/assets/application-5cc81fa97aedacb1157cce0e30895a04.css" media="all" rel="stylesheet" type="text/css" />

</head>
<body class='documentation' id='sql'>


<!-- BEGIN WAYBACK TOOLBAR INSERT -->
<script type="text/javascript" src="/static/js/disclaim-element.js" ></script>
<script type="text/javascript" src="/static/js/graph-calc.js" ></script>
<script type="text/javascript">//<![CDATA[
var __wm = (function(imgWidth,imgHeight,yearImgWidth,monthImgWidth){
var wbPrefix = "/web/";
var wbCurrentUrl = "https://foundationdb.com/layers/sql/documentation/SQL/ddl/alter.table.html";

var firstYear = 1996;
var displayDay = "25";
var displayMonth = "Mar";
var displayYear = "2015";
var prettyMonths = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];
var $D=document,$=function(n){return document.getElementById(n)};
var trackerVal,curYear = -1,curMonth = -1;
var yearTracker,monthTracker;
function showTrackers(val) {
  if (val===trackerVal) return;
  var $ipp=$("wm-ipp");
  var $y=$("displayYearEl"),$m=$("displayMonthEl"),$d=$("displayDayEl");
  if (val) {
    $ipp.className="hi";
  } else {
    $ipp.className="";
    $y.innerHTML=displayYear;$m.innerHTML=displayMonth;$d.innerHTML=displayDay;
  }
  yearTracker.style.display=val?"inline":"none";
  monthTracker.style.display=val?"inline":"none";
  trackerVal = val;
}
function trackMouseMove(event,element) {
  var eventX = getEventX(event);
  var elementX = getElementX(element);
  var xOff = Math.min(Math.max(0, eventX - elementX),imgWidth);
  var monthOff = xOff % yearImgWidth;

  var year = Math.floor(xOff / yearImgWidth);
  var monthOfYear = Math.min(11,Math.floor(monthOff / monthImgWidth));
  // 1 extra border pixel at the left edge of the year:
  var month = (year * 12) + monthOfYear;
  var day = monthOff % 2==1?15:1;
  var dateString = zeroPad(year + firstYear) + zeroPad(monthOfYear+1,2) +
    zeroPad(day,2) + "000000";

  $("displayYearEl").innerHTML=year+firstYear;
  $("displayMonthEl").innerHTML=prettyMonths[monthOfYear];
  // looks too jarring when it changes..
  //$("displayDayEl").innerHTML=zeroPad(day,2);
  var url = wbPrefix + dateString + '/' +  wbCurrentUrl;
  $("wm-graph-anchor").href=url;

  if(curYear != year) {
    var yrOff = year * yearImgWidth;
    yearTracker.style.left = yrOff + "px";
    curYear = year;
  }
  if(curMonth != month) {
    var mtOff = year + (month * monthImgWidth) + 1;
    monthTracker.style.left = mtOff + "px";
    curMonth = month;
  }
}
function hideToolbar() {
  $("wm-ipp").style.display="none";
}
function bootstrap() {
  var $spk=$("wm-ipp-sparkline");
  yearTracker=$D.createElement('div');
  yearTracker.className='yt';
  with(yearTracker.style){
    display='none';width=yearImgWidth+"px";height=imgHeight+"px";
  }
  monthTracker=$D.createElement('div');
  monthTracker.className='mt';
  with(monthTracker.style){
    display='none';width=monthImgWidth+"px";height=imgHeight+"px";
  }
  $spk.appendChild(yearTracker);
  $spk.appendChild(monthTracker);

  var $ipp=$("wm-ipp");
  $ipp&&disclaimElement($ipp);
}
return{st:showTrackers,mv:trackMouseMove,h:hideToolbar,bt:bootstrap};
})(525, 27, 25, 2);//]]>
</script>
<style type="text/css">
body {
  margin-top:0 !important;
  padding-top:0 !important;
  min-width:800px !important;
}
</style>
<div id="wm-ipp" lang="en" style="display:none;">

<div style="position:fixed;left:0;top:0;width:100%!important">
<div id="wm-ipp-inside">
   <table style="width:100%;"><tbody><tr>
   <td id="wm-logo">
       <a href="/web/" title="Wayback Machine home page"><img src="/static/images/toolbar/wayback-toolbar-logo.png" alt="Wayback Machine" width="110" height="39" border="0" /></a>
   </td>
   <td class="c">
       <table style="margin:0 auto;"><tbody><tr>
       <td class="u" colspan="2">
       <form target="_top" method="get" action="/web/form-submit.jsp" name="wmtb" id="wmtb"><input type="text" name="url" id="wmtbURL" value="https://foundationdb.com/layers/sql/documentation/SQL/ddl/alter.table.html" style="width:400px;" onfocus="this.focus();this.select();" /><input type="hidden" name="type" value="replay" /><input type="hidden" name="date" value="20150325003604" /><input type="submit" value="Go" /><span id="wm_tb_options" style="display:block;"></span></form>
       </td>
       <td class="n" rowspan="2">
           <table><tbody>
           <!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
           <tr class="m">
           	<td class="b" nowrap="nowrap">
		
		    Feb
		
		</td>
		<td class="c" id="displayMonthEl" title="You are here: 0:36:04 Mar 25, 2015">MAR</td>
		<td class="f" nowrap="nowrap">
		
		    Apr
		
                </td>
	    </tr>
           <!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
           <tr class="d">
               <td class="b" nowrap="nowrap">
               
                       <img src="/static/images/toolbar/wm_tb_prv_off.png" alt="Previous capture" width="14" height="16" border="0" />
               
               </td>
               <td class="c" id="displayDayEl" style="width:34px;font-size:24px;" title="You are here: 0:36:04 Mar 25, 2015">25</td>
	       <td class="f" nowrap="nowrap">
               
                   <img src="/static/images/toolbar/wm_tb_nxt_off.png" alt="Next capture" width="14" height="16" border="0"/>
               
	       </td>
           </tr>
           <!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
           <tr class="y">
	       <td class="b" nowrap="nowrap">
               
                   2014
               
               </td>
               <td class="c" id="displayYearEl" title="You are here: 0:36:04 Mar 25, 2015">2015</td>
	       <td class="f" nowrap="nowrap">
               
                   2016
               
	       </td>
           </tr>
           </tbody></table>
       </td>
       </tr>
       <tr>
       <td class="s">
           <a class="t" href="/web/20150325003604*/https://foundationdb.com/layers/sql/documentation/SQL/ddl/alter.table.html" title="See a list of every capture for this URL">1 captures</a>
           <div class="r" title="Timespan for captures of this URL">25 Mar 15 - 25 Mar 15</div>
       </td>
       <td class="k">
       <a href="" id="wm-graph-anchor">
       <div id="wm-ipp-sparkline" title="Explore captures for this URL">
	 <img id="sparklineImgId" alt="sparklines"
		 onmouseover="__wm.st(1)" onmouseout="__wm.st(0)"
		 onmousemove="__wm.mv(event,this)"
		 width="525"
		 height="27"
		 border="0"
		 src="/web/jsp/graph.jsp?graphdata=525_27_1996:-1:000000000000_1997:-1:000000000000_1998:-1:000000000000_1999:-1:000000000000_2000:-1:000000000000_2001:-1:000000000000_2002:-1:000000000000_2003:-1:000000000000_2004:-1:000000000000_2005:-1:000000000000_2006:-1:000000000000_2007:-1:000000000000_2008:-1:000000000000_2009:-1:000000000000_2010:-1:000000000000_2011:-1:000000000000_2012:-1:000000000000_2013:-1:000000000000_2014:-1:000000000000_2015:2:001000000000_2016:-1:000000000000" />
       </div>
       </a>
       </td>
       </tr></tbody></table>
   </td>
   <td class="r">
       <a href="#close" onclick="__wm.h();return false;" style="background-image:url(/static/images/toolbar/wm_tb_close.png);top:5px;" title="Close the toolbar">Close</a>
       <a href="http://faq.web.archive.org/" style="background-image:url(/static/images/toolbar/wm_tb_help.png);bottom:5px;" title="Get some help using the Wayback Machine">Help</a>
   </td>
   </tr></tbody></table>
</div>
</div>
</div>
<script type="text/javascript">__wm.bt();</script>
<!-- END WAYBACK TOOLBAR INSERT -->

<header id='header'>
<div class='container'>
<a href='/web/20150325003604/https://foundationdb.com/' id='logo'></a>
<a id='mobile-nav-toggle'><img alt="Hamburger" src="/web/20150325003604im_/https://d3glfbbr3jeumb.cloudfront.net/assets/icons/hamburger-bbd9560947385da4445b540086f10c9b.png" /></a>
<a id='mobile-auth-toggle'>
<i class='icon-user'></i>
</a>
<div id='auth-links'></div>
</div>
</header>
<nav id='nav'>
<div class='container'>
<ul>
<li class=''>
<a href="/web/20150325003604/https://foundationdb.com/"><span>H</span>ome</a>
</li>
<li class='with-subnav'>
<a href="/web/20150325003604/https://foundationdb.com/key-value-store"><span>K</span>ey-Value Store</a>
<ul class='subnav'>
<li><a href="/web/20150325003604/https://foundationdb.com/key-value-store">Overview</a></li>
<li><a href="/web/20150325003604/https://foundationdb.com/key-value-store/documentation">Documentation</a></li>
<li><a href="/web/20150325003604/https://foundationdb.com/key-value-store/performance">Performance</a></li>
</ul>
</li>
<li class='active with-subnav'>
<a href="/web/20150325003604/https://foundationdb.com/layers/sql"><span>S</span>QL Layer</a>
<ul class='subnav'>
<li><a href="/web/20150325003604/https://foundationdb.com/layers/sql">Overview</a></li>
<li><a href="/web/20150325003604/https://foundationdb.com/layers/sql/documentation">Documentation</a></li>
<li><a href="/web/20150325003604/https://foundationdb.com/layers/sql/performance">Performance</a></li>
</ul>
</li>
<li class='with-subnav'>
<a href="/web/20150325003604/https://foundationdb.com/community"><span>R</span>esources</a>
<ul class='subnav'>
<li><a href="/web/20150325003604/http://community.foundationdb.com/">Community</a></li>
<li><a href="/web/20150325003604/https://foundationdb.com/courses">Education</a></li>
<li><a href="/web/20150325003604/https://foundationdb.com/videos">Videos</a></li>
</ul>
</li>
<li class='with-subnav'>
<a href="/web/20150325003604/https://foundationdb.com/about"><span>C</span>ompany</a>
<ul class='subnav'>
<li><a href="/web/20150325003604/https://foundationdb.com/about">About Us</a></li>
<li><a href="/web/20150325003604/https://foundationdb.com/contact">Contact Us</a></li>
<li><a href="/web/20150325003604/https://foundationdb.com/jobs">Jobs</a></li>
</ul>
</li>
</ul>
</div>
</nav>
<div id='flash'>
<div class='notice'></div>
<div class='alert'></div>
</div>
<div id='documentation-inner'>
<div id='docs-global-nav-content'>
<ul>
<li><a href="/web/20150325003604/https://foundationdb.com/layers/sql/documentation/index.html">Summary</a></li>
<li>
<a href="/web/20150325003604/https://foundationdb.com/layers/sql/documentation/Concepts/index.html">Concepts</a>
<ul>
<li><a href="/web/20150325003604/https://foundationdb.com/layers/sql/documentation/Concepts/features.html">Features</a></li>
<li><a href="/web/20150325003604/https://foundationdb.com/layers/sql/documentation/Concepts/architecture.html">Physical Architecture</a></li>
<li><a href="/web/20150325003604/https://foundationdb.com/layers/sql/documentation/Concepts/table.groups.html">Table-Groups</a></li>
<li><a href="/web/20150325003604/https://foundationdb.com/layers/sql/documentation/Concepts/mapping.sql.to.kv.html">Mapping SQL to Key-Value</a></li>
<li><a href="/web/20150325003604/https://foundationdb.com/layers/sql/documentation/Concepts/known.limitations.html">Known Limitations</a></li>
<li><a href="/web/20150325003604/https://foundationdb.com/layers/sql/documentation/Concepts/glossary.html">Glossary</a></li>
</ul>
</li>
<li>
<a href="/web/20150325003604/https://foundationdb.com/layers/sql/documentation/Developer/index.html">Developers</a>
<ul>
<li><a href="/web/20150325003604/https://foundationdb.com/layers/sql/documentation/Developer/developer.guide.html">Developer Guide</a></li>
<li><a href="/web/20150325003604/https://foundationdb.com/layers/sql/documentation/Developer/client.tools.html">Client tools</a></li>
<li><a href="/web/20150325003604/https://foundationdb.com/layers/sql/documentation/Developer/performance.guide.html">Performance Guide</a></li>
<li><a href="/web/20150325003604/https://foundationdb.com/layers/sql/documentation/AppIntegration/index.html">Application Integration</a></li>
<li><a href="/web/20150325003604/https://foundationdb.com/layers/sql/documentation/SQL/index.html">SQL Reference</a></li>
<li><a href="/web/20150325003604/https://foundationdb.com/layers/sql/documentation/REST/rest.api.reference.html">REST API Reference</a></li>
</ul>
</li>
<li>
<a href="/web/20150325003604/https://foundationdb.com/layers/sql/documentation/Admin/index.html">Operations</a>
<ul>
<li><a href="/web/20150325003604/https://foundationdb.com/layers/sql/documentation/Admin/configuration.html">Configuration</a></li>
<li><a href="/web/20150325003604/https://foundationdb.com/layers/sql/documentation/Admin/administration.html">Administration</a></li>
<li><a href="/web/20150325003604/https://foundationdb.com/layers/sql/documentation/Admin/security.html">Security</a></li>
<li><a href="/web/20150325003604/https://foundationdb.com/layers/sql/documentation/Admin/backup.html">Backup and Restoration</a></li>
</ul>
</li>
<li><a href="/web/20150325003604/https://foundationdb.com/layers/sql/documentation/ReleaseNotes/index.html">Release Notes</a></li>
</ul>
</div>

<script type="text/javascript">
  var DOCUMENTATION_OPTIONS = {
  	URL_ROOT:    '',
  	VERSION:     '2.1.2',
  	COLLAPSE_INDEX: false,
  	FILE_SUFFIX: '.html',
  	HAS_SOURCE:  true
  };
</script>

<div id="breadcrumbs" class="container">
  <div id="breadcrumbs-inner">
    
    <a href="/web/20150325003604/https://foundationdb.com/layers/sql/documentation/index.html">FoundationDB SQL Layer 2.1</a> &raquo;
    <a href="/web/20150325003604/https://foundationdb.com/layers/sql/documentation/Developer/index.html">SQL Layer Developer Reference</a> &raquo;
    <a href="/web/20150325003604/https://foundationdb.com/layers/sql/documentation/SQL/index.html">SQL Reference</a> &raquo;
    
    <a id="mobile-search-link" href="/web/20150325003604/https://foundationdb.com/documentation/latest/search.html">
      <img alt="Magnifying-glass" src="/web/20150325003604im_/https://d3glfbbr3jeumb.cloudfront.net/assets/icons/magnifying-glass-1e869de9fc6b47eca22fbd10a9d914a3.png" />
    </a>
  </div>
</div>
<div id="documentation" class="container">
  <div class="body sphinx">
    
  <div class="section" id="alter-table">
<span id="alter-table-stmt"></span><h1>ALTER TABLE<a class="headerlink" href="#alter-table" title="Permalink to this headline">∞</a></h1>
<div class="section" id="purpose">
<h2>Purpose<a class="headerlink" href="#purpose" title="Permalink to this headline">∞</a></h2>
<p>Use the <tt class="docutils literal"><span class="pre">ALTER</span> <span class="pre">TABLE</span></tt> statement to alter the definition of a table.</p>
<p><tt class="docutils literal"><span class="pre">ALTER</span> <span class="pre">TABLE</span></tt> can be used for adding, dropping and modifying columns and constraints such as indexes and grouping foreign keys. Another important use of <tt class="docutils literal"><span class="pre">ALTER</span> <span class="pre">TABLE</span></tt> is the generation of index statistics.</p>
</div>
<div class="section" id="syntax">
<h2>Syntax<a class="headerlink" href="#syntax" title="Permalink to this headline">∞</a></h2>
<pre class="literal-block">
ALTER TABLE <em>table_name</em> [ IF EXISTS ]
{
    ADD
    {
          [ COLUMN ] <em>column_name</em> <em>data_type</em> [ <em>column_default</em> ] [ <em>column_constraint</em> [, ... ] ]
        | [ UNIQUE ] INDEX <em>index_name</em> ( <em>column_name</em> [ , ... ] )
        | [ CONSTRAINT <em>constraint_name</em> ]
          {
                FOREIGN KEY ( <em>column_name</em> [ , ... ] ) REFERENCES <em>ref_table</em> [ ( <em>ref_column</em> [ , ... ] ) ] [ MATCH <em>match</em> ] [ ON DELETE <em>action</em> ] [ ON UPDATE action ]
              | GROUPING FOREIGN KEY ( <em>column name</em> [ , ... ] ) REFERENCES <em>parent_table</em> [ ( <em>parent_column</em> [ , ... ] ) ]
              | INDEX ( <em>column_name</em> [ , ... ] )
              | PRIMARY KEY ( <em>column_name</em> [ , ... ] )
              | UNIQUE ( <em>column_name</em> [ , ... ] )
          }
    }
  | ALTER [ COLUMN ] <em>column_name</em>
    {
          DROP DEFAULT
        | NOT NULL
        | NULL
        | SET DATA TYPE <em>data_type</em>
        | [ SET ] GENERATED { ALWAYS | BY DEFAULT } AS IDENTITY [ ( [ START WITH <em>start</em> ] | [ INCREMENT BY <em>inc</em> ] ) ]
        | SET INCREMENT BY <em>number</em>
        | [ SET ] [ WITH ] DEFAULT <em>column_default</em>
        | RESTART WITH <em>number</em>
    }
  | DROP
    {
          [ COLUMN ] [ IF EXISTS ] <em>column_name</em> [ { CASCADE | RESTRICT } ]
        | [ GROUPING ] FOREIGN KEY  [ IF EXISTS ] [ <em>constraint_name</em> ]
        | CONSTRAINT [ IF EXISTS ] <em>constraint_name</em>
        | PRIMARY KEY [ IF EXISTS ]
        | INDEX [ IF EXISTS ] <em>index_name</em>
        | UNIQUE [ IF EXISTS ] <em>unique_name</em>
    }
  | RENAME
    {
          COLUMN <em>column_name</em> [ { TO | AS } ] <em>new_column_name</em>
        | [ TABLE ] [ { TO | AS } ] <em>new_table_name</em>
    }
  | ALL UPDATE STATISTICS
  | UPDATE STATISTICS <em>index_name</em>
}
</pre>
</div>
<div class="section" id="details">
<h2>Details<a class="headerlink" href="#details" title="Permalink to this headline">∞</a></h2>
<p>An <tt class="docutils literal"><span class="pre">ALTER</span> <span class="pre">TABLE</span></tt> statement can affect the table in a number of ways depending on the action being performed. The resulting operations ranges from very cheap (and fast) to very expensive (and slow). The categories, in order from least to most expensive, are:</p>
<div class="section" id="types">
<h3>Types<a class="headerlink" href="#types" title="Permalink to this headline">∞</a></h3>
<dl class="docutils">
<dt><strong>Metadata</strong></dt>
<dd>Changes the table definition <em>only</em>. No rows are read or modified.</dd>
<dt><strong>Constraint</strong></dt>
<dd>Checks that all existing rows satisfy the new constraint. Reads <em>all</em> existing rows. No rows are modified.</dd>
<dt><strong>Index</strong></dt>
<dd>Creates a new index on the table. Reads <em>all</em> existing rows. No rows are modified.</dd>
<dt><strong>Table</strong></dt>
<dd>Changes the structure of table. Reads <em>and</em> writes <em>all</em> rows in the <a class="reference internal" href="/web/20150325003604/https://foundationdb.com/layers/sql/documentation/Concepts/table.groups.html#table-groups-intro"><em>Table-Group</em></a>.</dd>
<dt><strong>Group</strong></dt>
<dd>Changes the structure of one, or more, Table-Groups. Reads <em>and</em> writes <em>all</em> rows in <em>all</em> affected Table-Groups.</dd>
</dl>
</div>
<div class="section" id="operations">
<h3>Operations<a class="headerlink" href="#operations" title="Permalink to this headline">∞</a></h3>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">ADD</span> <span class="pre">COLUMN</span></tt> <em>&#8211; Table</em></dt>
<dd>Add a new column to the table.</dd>
<dt><tt class="docutils literal"><span class="pre">ADD</span> <span class="pre">UNIQUE</span></tt> <em>&#8211; Index</em></dt>
<dd>Add a new unique constraint to the table. See <a class="reference internal" href="create.table.html#create-table-unique"><em>UNIQUE</em></a> for more details.</dd>
<dt><tt class="docutils literal"><span class="pre">ADD</span> <span class="pre">[UNIQUE]</span> <span class="pre">INDEX</span></tt> <em>&#8211; Index</em></dt>
<dd>Add a new index to the table. See <a class="reference internal" href="create.index.html#create-index-stmt"><em>CREATE INDEX</em></a> for more details.</dd>
<dt><tt class="docutils literal"><span class="pre">ADD</span> <span class="pre">FOREIGN</span> <span class="pre">KEY</span></tt> <em>&#8211; Constraint</em></dt>
<dd>Add a foreign key to the table. See <a class="reference internal" href="create.table.html#create-table-fk"><em>FOREIGN KEY</em></a> for more details.</dd>
<dt><tt class="docutils literal"><span class="pre">ADD</span> <span class="pre">GROUPING</span> <span class="pre">FOREIGN</span> <span class="pre">KEY</span></tt> <em>&#8211; Group</em></dt>
<dd>Add the table to an existing Table-Group. Any children remain. See <a class="reference internal" href="create.table.html#create-table-gfk"><em>GROUPING FOREIGN KEY</em></a> for more details.</dd>
<dt><tt class="docutils literal"><span class="pre">ADD</span> <span class="pre">PRIMARY</span> <span class="pre">KEY</span></tt> <em>&#8211; Group</em></dt>
<dd>Add a primary key to the table. See <a class="reference internal" href="create.table.html#create-table-pk"><em>PRIMARY KEY</em></a> for more details.</dd>
<dt><tt class="docutils literal"><span class="pre">ALL</span> <span class="pre">UPDATE</span> <span class="pre">STATISTICS</span></tt> <em>&#8211; Index</em></dt>
<dd>Update the internal statistics for all indexes on the table. Note that, by default, this action is performed automatically whenever the system notices statistics are out of date.</dd>
<dt><tt class="docutils literal"><span class="pre">ALTER</span> <span class="pre">COLUMN</span> <span class="pre">DROP</span> <span class="pre">DEFAULT</span></tt> <em>&#8211; Metadata</em></dt>
<dd>Remove the associated default, if any, for a column. The new default will be <tt class="docutils literal"><span class="pre">NULL</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">ALTER</span> <span class="pre">COLUMN</span> <span class="pre">NULL</span></tt> <em>&#8211; Metadata</em></dt>
<dd>Allow <tt class="docutils literal"><span class="pre">NULL</span></tt> values for the column.</dd>
<dt><tt class="docutils literal"><span class="pre">ALTER</span> <span class="pre">COLUMN</span> <span class="pre">NOT</span> <span class="pre">NULL</span></tt> <em>&#8211; Constraint</em></dt>
<dd>Disallow <tt class="docutils literal"><span class="pre">NULL</span></tt> values for the column.</dd>
<dt><tt class="docutils literal"><span class="pre">ALTER</span> <span class="pre">COLUMN</span> <span class="pre">SET</span> <span class="pre">DATA</span> <span class="pre">TYPE</span></tt> <em>&#8211; Table or Group</em></dt>
<dd>Set the data type for the column. Any existing values are converted as-if <tt class="docutils literal"><span class="pre">CAST</span></tt> was used. If the column is part of the <tt class="docutils literal"><span class="pre">PRIMARY</span> <span class="pre">KEY</span></tt>, any children in the Table-Group will be <em>split apart</em> into separate Table-Groups. If the column is part of the <tt class="docutils literal"><span class="pre">GROUPING</span> <span class="pre">FOREIGN</span> <span class="pre">KEY</span></tt>, the table will be <em>split apart</em> from its parent and become the root of a new Table-Group.</dd>
<dt><tt class="docutils literal"><span class="pre">ALTER</span> <span class="pre">COLUMN</span> <span class="pre">SET</span> <span class="pre">GENERATED</span></tt> <em>&#8211; Metadata</em></dt>
<dd>Set the column to be generated. Only one column may be generated per table. See <a class="reference internal" href="create.table.html#create-table-generated"><em>GENERATED</em></a> for more details.</dd>
<dt><tt class="docutils literal"><span class="pre">ALTER</span> <span class="pre">COLUMN</span> <span class="pre">SET</span> <span class="pre">INCREMENT</span> <span class="pre">BY</span></tt> <em>&#8211; Metadata</em></dt>
<dd>Set the amount the generated value increments by. Only valid for generated columns.</dd>
<dt><tt class="docutils literal"><span class="pre">ALTER</span> <span class="pre">COLUMN</span> <span class="pre">SET</span> <span class="pre">WITH</span> <span class="pre">DEFAULT</span></tt> <em>&#8211; Metadata</em></dt>
<dd>Set the default value for the column. See <a class="reference internal" href="create.table.html#create-table-default"><em>DEFAULT</em></a> for more details.</dd>
<dt><tt class="docutils literal"><span class="pre">ALTER</span> <span class="pre">COLUMN</span> <span class="pre">RESTART</span> <span class="pre">WITH</span></tt> <em>&#8211; Metadata</em></dt>
<dd>Change the <em>next</em> value to be generated. Only valid for generated columns.</dd>
<dt><tt class="docutils literal"><span class="pre">DROP</span> <span class="pre">COLUMN</span></tt> <em>&#8211; Table or Group</em></dt>
<dd>Remove the column from the table. If the column is part of the <tt class="docutils literal"><span class="pre">PRIMARY</span> <span class="pre">KEY</span></tt>, any children in the Table-Group will be <em>split apart</em> into separate Table-Groups. If the column is part of the <tt class="docutils literal"><span class="pre">GROUPING</span> <span class="pre">FOREIGN</span> <span class="pre">KEY</span></tt>, the table will be <em>split apart</em> from its parent and become the root of a new Table-Group.</dd>
<dt><tt class="docutils literal"><span class="pre">DROP</span> <span class="pre">GROUPING</span> <span class="pre">FOREIGN</span> <span class="pre">KEY</span></tt> <em>&#8211; Group</em></dt>
<dd>Remove the table from its current Table-Group. Any children remain.</dd>
<dt><tt class="docutils literal"><span class="pre">DROP</span> <span class="pre">FOREIGN</span> <span class="pre">KEY</span></tt> <em>&#8211; Metadata</em></dt>
<dd>Remove a foreign key.</dd>
<dt><tt class="docutils literal"><span class="pre">DROP</span> <span class="pre">PRIMARY</span> <span class="pre">KEY</span></tt> <em>&#8211; Group</em></dt>
<dd>Remove the table&#8217;s <tt class="docutils literal"><span class="pre">PRIMARY</span> <span class="pre">KEY</span></tt>. Any children in the Table-Group will become roots of their own Table-Group.</dd>
<dt><tt class="docutils literal"><span class="pre">DROP</span> <span class="pre">INDEX</span></tt> <em>&#8211; Metadata</em></dt>
<dd>Remove an index.</dd>
<dt><tt class="docutils literal"><span class="pre">DROP</span> <span class="pre">UNIQUE</span></tt> <em>&#8211; Metadata</em></dt>
<dd>Remove a unique constraint.</dd>
<dt><tt class="docutils literal"><span class="pre">RENAME</span> <span class="pre">COLUMN</span></tt> <em>&#8211; Metadata</em></dt>
<dd>Change the name of a column.</dd>
<dt><tt class="docutils literal"><span class="pre">RENAME</span> <span class="pre">TABLE</span></tt> <em>&#8211; Metadata</em></dt>
<dd>Change the name of the table.</dd>
<dt><tt class="docutils literal"><span class="pre">UPDATE</span> <span class="pre">STATISTICS</span></tt> <em>&#8211; Index</em></dt>
<dd>Update the internal statistics for a single index on the table. Note that, by default, this action is performed automatically whenever the system notices statistics are out of date.</dd>
</dl>
</div>
</div>
<div class="section" id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">∞</a></h2>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">IF</span> <span class="pre">EXISTS</span></tt></dt>
<dd>Do not return an error if the table (or referenced attribute) does not exist.</dd>
<dt><em>table_name</em></dt>
<dd>The name (optionally schema-qualified) of the table to be altered.</dd>
<dt><em>column_constraint</em></dt>
<dd>A constraint to apply to the column. See <a class="reference internal" href="create.table.html#create-table-column-constraint"><em>column_constraint syntax</em></a> for more details.</dd>
<dt><em>column_default</em></dt>
<dd>The default value of the column. See <a class="reference internal" href="create.table.html#create-table-column-default"><em>column_default syntax</em></a> for more details.</dd>
<dt><em>column_name</em></dt>
<dd>The name of a column to be altered, added or dropped.</dd>
<dt><em>constraint_name</em></dt>
<dd>The name for the constraint to add or drop.</dd>
<dt><em>data_type</em></dt>
<dd>The data type of the column. See <a class="reference internal" href="/web/20150325003604/https://foundationdb.com/layers/sql/documentation/SQL/datatypes.html#datatypes"><em>Data Types</em></a> for more details.</dd>
<dt><em>index_name</em></dt>
<dd>The name of the index to add or drop.</dd>
<dt><em>unique_name</em></dt>
<dd>The name of the unique constraint to add or drop.</dd>
<dt><em>new_column_name</em></dt>
<dd>The new name to use for the column.</dd>
<dt><em>new_table_name</em></dt>
<dd>The new name to use for the table.</dd>
</dl>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">∞</a></h2>
<p>Adding a non-nullable, datetime column:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">orders</span> <span class="k">ADD</span> <span class="k">COLUMN</span> <span class="n">order_date</span> <span class="n">DATETIME</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">;</span>
</pre></div>
</div>
<p>Adding a unique constraint:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">orders</span> <span class="k">ADD</span> <span class="k">UNIQUE</span> <span class="p">(</span><span class="n">order_id</span><span class="p">);</span>
</pre></div>
</div>
<p>Adding a table to Table-Group:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">orders</span> <span class="k">ADD</span> <span class="k">GROUPING</span> <span class="k">FOREIGN</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">customer_id</span><span class="p">)</span> <span class="k">REFERENCES</span> <span class="n">customers</span> <span class="p">(</span><span class="n">id</span><span class="p">);</span>
</pre></div>
</div>
<p>Updating statistics for all indexes on a table:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">orders</span> <span class="k">ALL</span> <span class="k">UPDATE</span> <span class="k">STATISTICS</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div>


  </div>
  <div id="search-documentation">
    <form action="/web/20150325003604/https://foundationdb.com/layers/sql/documentation/search.html" method="get">
      <input type="text" name="q" class="search-query" placeholder="Search Documentation" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <div id="docs-page-nav">
      <h3>Navigate this page</h3>
      <ul><li><a class="reference internal" href="#">ALTER TABLE</a><ul><li><a class="reference internal" href="#purpose">Purpose</a></li><li><a class="reference internal" href="#syntax">Syntax</a></li><li><a class="reference internal" href="#details">Details</a><ul><li><a class="reference internal" href="#types">Types</a></li><li><a class="reference internal" href="#operations">Operations</a></li></ul></li><li><a class="reference internal" href="#parameters">Parameters</a></li><li><a class="reference internal" href="#examples">Examples</a></li></ul></li></ul>
    </div>
    <div id="docs-global-nav">
      <h3>Navigate All Docs</h3>
    </div>
  </div>
</div>


</div>
<footer id='footer'>
<div class='container'>
<ul>
<li>
<h3>Get Help</h3>
<ul id='get-help-list'>
<li><a href="/web/20150325003604/https://foundationdb.com/contact">Contact Us</a></li>
</ul>
</li>
<li>
<h3>Social</h3>
<ul>
<li><a href="/web/20150325003604/https://twitter.com/foundationdb">Twitter</a></li>
</ul>
</li>
<li>
<h3>Legal</h3>
<ul>
<li><a href="/web/20150325003604/https://foundationdb.com/legal/privacy">Privacy Policy</a></li>
<li><a href="/web/20150325003604/https://foundationdb.com/legal/terms">Terms of Service</a></li>
<li><a href="/web/20150325003604/https://foundationdb.com/legal/trademark">Trademark Disclaimer</a></li>
</ul>
</li>
</ul>
</div>
<div id='copyright'>&copy; 2015 FoundationDB</div>
</footer>
<div class='modal' id='login-modal'>
<div class='cover'></div>
<div class='inner'>
<h2>FoundationDB Log In</h2>
<div class='content'>
<div id='explanation'></div>
<form>
<fieldset>
<div class='errors'></div>
<ul>
<li>
<label for="email">Email Address</label>
<input id='email' type='email' value=''>
</li>
<li>
<label for="password">Password</label>
<input id='password' type='password'>
</li>
<li class='actions'>
<button>
Log In
<span class='spinner'></span>
</button>
<a href="#signup">Need an account?</a>
<a href="#reset-password" id="login-reset-link">Need to reset your password?</a>
</li>
</ul>
</fieldset>
</form>
</div>
<a class='close' href='#close'>
<i class='icon-cancel'></i>
</a>
</div>
</div>
<div class='modal' id='reset-password-modal'>
<div class='cover'></div>
<div class='inner'>
<h2>Reset Your Password</h2>
<div class='content'>
<form>
<p class='note'>Enter your email address below and we'll send you password reset instructions.</p>
<fieldset>
<div class='errors'></div>
<ul>
<li>
<label for="email">Email Address</label>
<input autocapitalize="false" id="email" name="email" type="email" value="" />
</li>
<li class='actions'>
<button>
Send Instructions
<span class='spinner'></span>
</button>
<a href="#cancel">Cancel</a>
</li>
</ul>
</fieldset>
</form>
<div id='done'>
<p>Please check your email. Your password reset instructions have been emailed to you.</p>
</div>
</div>
<a class='close' href='#close'>
<i class='icon-cancel'></i>
</a>
</div>
</div>
<div class='modal' id='video-modal'>
<div class='cover'></div>
<div class='inner'>
<iframe></iframe>
<a class='close' href='#close'>
<i class='icon-cancel'></i>
</a>
</div>
</div>

<script src="/web/20150325003604js_/https://d3glfbbr3jeumb.cloudfront.net/assets/application-a7f51eff68dda15563d95dd6b13ee7ae.js" type="text/javascript"></script>
<!--[if lt IE 9]>
<script src="//html5shiv.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
<![endif]-->

</body>
</html>





<!--
     FILE ARCHIVED ON 0:36:04 Mar 25, 2015 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 15:31:00 Oct 16, 2016.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
